(def runX (in) (begin (begin (let x0 (tensor ()) (let x1 (call tensor_randinit 150 300 0.01) (let x2 (call tensor_zeros 150) (let x3 (call tensor_randinit 150 300 0.01) (let x4 (call tensor_zeros 150) (let x5 (call tensor_randinit 150 300 0.01) (let x6 (call tensor_zeros 150) (let x7 (call tensor_randinit 150 150 0.01) (let x8 (call tensor_randinit 150 150 0.01) (let x9 (call tensor_zeros 150) (let x10 (call tensor_randinit 150 150 0.01) (let x11 (call tensor_randinit 150 150 0.01) (let x12 (call tensor_randinit 150 150 0.01) (let x13 (call tensor_randinit 150 150 0.01) (let x14 (call tensor_zeros 150) (let x15 (call tensor_randinit 150 150 0.01) (let x16 (call tensor_randinit 150 150 0.01) (let x17 (call tensor_zeros 150) (let x18 (call tensor_randinit 150 150 0.01) (let x19 (call tensor_randinit 150 150 0.01) (let x20 (call tensor_zeros 150) (let x21 (call tensor_randinit 5 150 0.01) (let x22 (call tensor_zeros 5) (def lossFun (scores words lefts rights dummy) (begin (let x23 (call tensor_zeros 1) (let x24 (call tensor_zeros 150) (let x25 (call tensor_zeros 150) (let x26 (tuple ((x23 x24 x25))) (def outputs (i) (begin (let x27 (>= i 0) (let x28 (if x27 (begin (let x28 (idx lefts i) (let x29 (outputs x28) (let x30 (idx rights i) (let x31 (outputs x30) (let x32 (idx x29 0) (let x33 (idx x29 1) (let x34 (idx x29 2) (let x35 (idx x31 0) (let x36 (idx x31 1) (let x37 (idx x31 2) (let x38 (call tensor_zeros 5) (let x39 (idx scores i) (let x40 (array-set x38 data x39 1) (let x41 (idx lefts i) (let x42 (< x41 0) (let x43 (if x42 (begin (let x43 (idx words i) (let x44 (idx x0 x43) (let x45 (tensor (x44 300)) (let x46 (dot x1 x45) (let x47 (+ x46 x2) (let x48 (call x47 sigmoid) (let x49 (dot x3 x45) (let x50 (+ x49 x4) (let x51 (call x50 sigmoid) (let x52 (dot x5 x45) (let x53 (+ x52 x6) (let x54 (call x53 tanh) (let x55 (dot x48 x54) (let x56 (call x55 tanh) (let x57 (dot x51 x56) (let x58 (dot x21 x57) (let x59 (+ x58 x22) (let x60 (call x59 exp) (let x61 (call x60 sum) (let x62 (/ x60 x61) (let x63 (dot x62 x38) (let x64 (+ x32 x35) (let x65 (call x63 log) (let x66 (- x64 x65) (let x67 (tuple ((x66 x57 x55))) x67)))))))))))))))))))))))))) (begin (let x43 (dot x7 x33) (let x44 (dot x8 x36) (let x45 (+ x43 x44) (let x46 (+ x45 x9) (let x47 (call x46 sigmoid) (let x48 (dot x10 x33) (let x49 (dot x11 x36) (let x50 (+ x48 x49) (let x51 (+ x50 x14) (let x52 (call x51 sigmoid) (let x53 (dot x12 x33) (let x54 (dot x13 x36) (let x55 (+ x53 x54) (let x56 (+ x55 x14) (let x57 (call x56 sigmoid) (let x58 (dot x15 x33) (let x59 (dot x16 x36) (let x60 (+ x58 x59) (let x61 (+ x60 x17) (let x62 (call x61 sigmoid) (let x63 (dot x18 x33) (let x64 (dot x19 x36) (let x65 (+ x63 x64) (let x66 (+ x65 x20) (let x67 (call x66 tanh) (let x68 (dot x47 x67) (let x69 (dot x52 x34) (let x70 (+ x68 x69) (let x71 (dot x57 x37) (let x72 (+ x70 x71) (let x73 (call x72 tanh) (let x74 (dot x62 x73) (let x75 (dot x21 x74) (let x76 (+ x75 x22) (let x77 (call x76 exp) (let x78 (call x77 sum) (let x79 (/ x77 x78) (let x80 (dot x79 x38) (let x81 (+ x32 x35) (let x82 (call x80 log) (let x83 (- x81 x82) (let x84 (tuple ((x83 x74 x72))) x84)))))))))))))))))))))))))))))))))))))))))))) x43))))))))))))))))) (begin x26)) x28))) (let x28 (outputs 0) (let x29 (idx x28 0) x29)))))))) (let x24 (lossFun (scores words lefts rights dummy)) x24))))))))))))))))))))))))))))
